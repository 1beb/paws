# This file is generated by make.paws. Please do not edit here.

#' @include handlers.R
#' @include handlers_jsonrpc.R
#' @include signer_v4.R
NULL

HANDLERS <- Handlers(
  validate = HandlerList(
    validate_endpoint_handler,
    validate_parameters_handler
  ),
  build = HandlerList(
    sdk_version_user_agent_handler,
    add_host_exec_env_user_agent_handler,
    jsonrpc_build
  ),
  sign = HandlerList(
    build_content_length_handler,
    v4_sign_request_handler
  ),
  send = HandlerList(
    validate_req_sig_handler,
    send_handler
  ),
  validate_response = HandlerList(
    validate_response_handler
  ),
  unmarshal = HandlerList(
    jsonrpc_unmarshal
  ),
  unmarshal_meta = HandlerList(
    jsonrpc_unmarshal_meta
  ),
  unmarshal_error = HandlerList(
    jsonrpc_unmarshal_error
  )
)

service <- function () {
  cfg <- client_config(
    service_name = "cloudtrail",
    endpoints = list("*" = "cloudtrail.{region}.amazonaws.com", "cn-*" = "cloudtrail.{region}.amazonaws.com.cn")
  )
  client_info <- ClientInfo(
    service_name = "cloudtrail",
    service_id = "CloudTrail",
    api_version = "2013-11-01",
    signing_name = cfg$signing_name,
    signing_region = cfg$signing_region,
    endpoint = cfg$endpoint,
    json_version = "1.1",
    target_prefix = "com.amazonaws.cloudtrail.v20131101.CloudTrail_20131101"
  )
  handlers <- HANDLERS
  svc <- Client(
    config = cfg$config,
    client_info = client_info,
    handlers = handlers
  )
  return(svc)
}

